var searchFunc=function(t,a,n){"use strict";$.ajax({url:t,dataType:"xml",success:function(t){var e=$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get();var r=document.getElementById(a);var i=document.getElementById(n);if(r){r.addEventListener("input",function(){var h='<ul class="search-result-list">';var m=this.value.trim().toLowerCase().split(/[\s\-]+/);i.innerHTML="";if(this.value.trim().length<=0){return}e.forEach(function(t){var r=true;var e=[];if(!t.title||t.title.trim()===""){t.title="Untitled"}var i=t.title.trim().toLowerCase();var a=t.content.trim().replace(/<[^>]+>/g,"").toLowerCase();var n=t.url;var l=-1;var s=-1;var c=-1;if(a!==""){m.forEach(function(t,e){l=i.indexOf(t);s=a.indexOf(t);if(l<0&&s<0){r=false}else{if(s<0){s=0}if(e==0){c=s}}})}else{r=false}if(r){h+="<li><a href='"+n+"' class='search-result-title'>"+i+"</a>";var u=t.content.trim().replace(/<[^>]+>/g,"");if(c>=0){var f=c-20;var o=c+80;if(f<0){f=0}if(f==0){o=100}if(o>u.length){o=u.length}var v=u.substr(f,o);m.forEach(function(t){var e=new RegExp(t,"gi");v=v.replace(e,'<em class="search-keyword">'+t+"</em>")});h+='<p class="search-result">'+v+"...</p>"}h+="</li>"}});h+="</ul>";i.innerHTML=h})}}})};